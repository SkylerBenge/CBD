<!-- /sections/newsletter.liquid -->

<div class="newsletter-section {{section.settings.background}}" id="newsletter" data-section-id="{{ section.id }}"  data-section-type="newsletter">
  <h2>{{ section.settings.title }}</h2>
  <div class="newsletter">
    {% assign form_action = '#' %}
    {% form 'contact' %}
        {{ form.errors | default_errors }}
        {% if form.posted_successfully? %}
          <div class="newsletter--form">
            <div class="note form-success">{{ 'general.newsletter_form.newsletter_success' | t }}</div>
          </div>
        {% else %}
          <input type="hidden" value="contact" name="form_type">

          <div class="newsletter--form">
            <div class="input-group">

                <input type="email" value="{% if customer %}{{ customer.email }}{% endif %}" placeholder="{{ 'general.newsletter_form.email' | t }}" name="contact[email]" id="mail" class="input-group-field" aria-label="{{ 'general.newsletter_form.email' | t }}" autocorrect="off" autocapitalize="off">

                <span class="input-group-btn">
                  <button type="submit" name="subscribe" id="subscribe" value="">
                    <i class = "custom-icon-long-arrow"></i>
                  </button>
                </span>                    
            </div>
          </div>
        {% endif %}
      {% endform %}
  </div>
</div>

{% schema %}
{
  "name": "Newsletter",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Newsletter"
    },
	{
      "type":      "radio",
        "id":        "background",
        "label":     "Background Color",
        "options": [
          { "value": "white", "label": "White" },
          { "value": "grey", "label": "Grey" },
		  { "value": "yellow", "label": "Yellow" },
		  { "value": "green", "label": "Green" }
        ],
        "default":   "grey"
    }
  ],
  "presets": [
    {
      "name": "Newsletter",
      "category": "promotional"
    }
  ]
}
{% endschema %}
